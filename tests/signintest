
pm.test("Response status code is 200", function () {
    pm.response.to.have.status(200);
});


pm.test("Response time is less than 200ms", function () {
  pm.expect(pm.response.responseTime).to.be.below(200);
});


pm.test("Response contains the required fields for sign-in with Google", function () {
    const responseData = pm.response.text();
    
    pm.expect(responseData).to.include("Sign in with Google");
    pm.expect(responseData).to.include("http://localhost:3000/api/auth/signin/google");
    pm.expect(responseData).to.include("csrfToken");
    pm.expect(responseData).to.include("callbackUrl");
    pm.expect(responseData).to.include("authjs.dev/img/providers/google.svg");
});


pm.test("Response includes message to try signing in with a different account", function () {
    const responseData = pm.response.text();

    pm.expect(responseData).to.include("Try signing in with a different account.");
});


pm.test("Presence of Content-Type header", function () {
    pm.expect(pm.response.headers.get("Content-Type")).to.exist;
});